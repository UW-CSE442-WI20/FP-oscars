{"version":3,"sources":["tether-1.4.7/src/js/tether.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["TetherBase","Error","Utils","getScrollParents","getBounds","getOffsetParent","extend","addClass","removeClass","updateClasses","defer","flush","getScrollBarSize","removeUtilElements","within","a","b","diff","transformKey","document","el","createElement","transforms","i","length","key","style","undefined","tethers","position","forEach","tether","now","performance","Date","lastCall","lastDuration","pendingTimeout","tick","Math","min","setTimeout","clearTimeout","window","addEventListener","event","MIRROR_LR","center","left","right","MIRROR_TB","middle","top","bottom","OFFSET_MAP","autoToFixedAttachment","attachment","relativeToAttachment","attachmentToOffset","addOffset","out","offsets","parseFloat","offsetToPx","offset","size","indexOf","width","height","parseOffset","value","split","parseAttachment","TetherClass","options","bind","push","history","setOptions","modules","module","initialize","call","classes","classPrefix","pos","defaults","targetOffset","targetAttachment","element","target","targetModifier","body","jquery","querySelector","getClass","addTargetClasses","scrollParents","disable","enabled","enable","pageYOffset","pageXOffset","innerHeight","innerWidth","bounds","documentElement","getComputedStyle","hasBottomScroll","scrollWidth","clientWidth","overflow","overflowX","scrollBottom","borderTopWidth","borderBottomWidth","scrollHeight","borderLeftWidth","fitAdj","pow","max","scrollPercentage","scrollTop","_cache","k","getter","parent","ownerDocument","removeEventListener","splice","elementAttach","targetAttach","sides","_addAttachClasses","add","all","side","flushChanges","clearCache","updateAttachClasses","elementPos","cache","lastSize","targetPos","getTargetBounds","targetSize","manualOffset","manualTargetOffset","ret","scrollbarSize","next","page","viewport","doc","win","defaultView","clientHeight","parentElement","optimizations","moveElement","offsetParent","offsetPosition","offsetParentStyle","offsetParentSize","offsetBorder","toLowerCase","scrollLeft","move","unshift","pop","parentNode","same","type","found","point","css","transcribe","_same","_pos","hasOptimizations","gpu","yPos","xPos","devicePixelRatio","round","moved","removeChild","appendChild","bodyElement","isFullscreenElement","e","d","fe","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","offsetParentIsBody","currentNode","nodeType","tagName","writeCSS","write","val","elVal","trigger","Evented","Tether","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","getElementById","remove","stackTrace","innerText","innerHTML","getParents","parents","dep","Array","isArray","concat","Function","deps","cached","some","cb"],"mappings":"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","file":"tether.0358e113.js","sourceRoot":"../src","sourcesContent":["/* globals TetherBase, performance */\n\nif (typeof TetherBase === 'undefined') {\n  throw new Error('You must include the utils.js file before tether.js');\n}\n\nconst {\n  getScrollParents,\n  getBounds,\n  getOffsetParent,\n  extend,\n  addClass,\n  removeClass,\n  updateClasses,\n  defer,\n  flush,\n  getScrollBarSize,\n  removeUtilElements\n} = TetherBase.Utils;\n\nfunction within(a, b, diff=1) {\n  return (a + diff >= b && b >= a - diff);\n}\n\nconst transformKey = (() => {\n  if(typeof document === 'undefined') {\n    return '';\n  }\n  const el = document.createElement('div');\n\n  const transforms = ['transform', 'WebkitTransform', 'OTransform', 'MozTransform', 'msTransform'];\n  for (let i = 0; i < transforms.length; ++i) {\n    const key = transforms[i];\n    if (el.style[key] !== undefined) {\n      return key;\n    }\n  }\n})();\n\nconst tethers = [];\n\nconst position = () => {\n  tethers.forEach(tether => {\n    tether.position(false);\n  });\n  flush();\n};\n\nfunction now() {\n  if (typeof performance === 'object' && typeof performance.now === 'function') {\n    return performance.now();\n  }\n  return +new Date;\n}\n\n(() => {\n  let lastCall = null;\n  let lastDuration = null;\n  let pendingTimeout = null;\n\n  const tick = () => {\n    if (typeof lastDuration !== 'undefined' && lastDuration > 16) {\n      // We voluntarily throttle ourselves if we can't manage 60fps\n      lastDuration = Math.min(lastDuration - 16, 250);\n\n      // Just in case this is the last event, remember to position just once more\n      pendingTimeout = setTimeout(tick, 250);\n      return;\n    }\n\n    if (typeof lastCall !== 'undefined' && (now() - lastCall) < 10) {\n      // Some browsers call events a little too frequently, refuse to run more than is reasonable\n      return;\n    }\n\n    if (pendingTimeout != null) {\n      clearTimeout(pendingTimeout);\n      pendingTimeout = null;\n    }\n\n    lastCall = now();\n    position();\n    lastDuration = now() - lastCall;\n  };\n\n  if(typeof window !== 'undefined' && typeof window.addEventListener !== 'undefined') {\n    ['resize', 'scroll', 'touchmove'].forEach(event => {\n      window.addEventListener(event, tick);\n    });\n  }\n})();\n\nconst MIRROR_LR = {\n  center: 'center',\n  left: 'right',\n  right: 'left'\n};\n\nconst MIRROR_TB = {\n  middle: 'middle',\n  top: 'bottom',\n  bottom: 'top'\n};\n\nconst OFFSET_MAP = {\n  top: 0,\n  left: 0,\n  middle: '50%',\n  center: '50%',\n  bottom: '100%',\n  right: '100%'\n};\n\nconst autoToFixedAttachment = (attachment, relativeToAttachment) => {\n  let {left, top} = attachment;\n\n  if (left === 'auto') {\n    left = MIRROR_LR[relativeToAttachment.left];\n  }\n\n  if (top === 'auto') {\n    top = MIRROR_TB[relativeToAttachment.top];\n  }\n\n  return {left, top};\n};\n\nconst attachmentToOffset = (attachment) => {\n  let left = attachment.left;\n  let top = attachment.top;\n\n  if (typeof OFFSET_MAP[attachment.left] !== 'undefined') {\n    left = OFFSET_MAP[attachment.left];\n  }\n\n  if (typeof OFFSET_MAP[attachment.top] !== 'undefined') {\n    top = OFFSET_MAP[attachment.top];\n  }\n\n  return {left, top};\n};\n\nfunction addOffset(...offsets) {\n  const out = {top: 0, left: 0};\n\n  offsets.forEach(({top, left}) => {\n    if (typeof top === 'string') {\n      top = parseFloat(top, 10);\n    }\n    if (typeof left === 'string') {\n      left = parseFloat(left, 10);\n    }\n\n    out.top += top;\n    out.left += left;\n  });\n\n  return out;\n}\n\nfunction offsetToPx(offset, size) {\n  if (typeof offset.left === 'string' && offset.left.indexOf('%') !== -1) {\n    offset.left = parseFloat(offset.left, 10) / 100 * size.width;\n  }\n  if (typeof offset.top === 'string' && offset.top.indexOf('%') !== -1) {\n    offset.top = parseFloat(offset.top, 10) / 100 * size.height;\n  }\n\n  return offset;\n}\n\nconst parseOffset = (value) => {\n  const [top, left] = value.split(' ');\n  return {top, left};\n};\nconst parseAttachment = parseOffset;\n\nclass TetherClass extends Evented {\n\n  constructor(options) {\n    super();\n    this.position = this.position.bind(this);\n\n    tethers.push(this);\n\n    this.history = [];\n\n    this.setOptions(options, false);\n\n    TetherBase.modules.forEach(module => {\n      if (typeof module.initialize !== 'undefined') {\n        module.initialize.call(this);\n      }\n    });\n\n    this.position();\n  }\n\n  getClass(key='') {\n    const {classes} = this.options;\n    if (typeof classes !== 'undefined' && classes[key]) {\n      return this.options.classes[key];\n    } else if (this.options.classPrefix) {\n      return `${ this.options.classPrefix }-${ key }`;\n    } else {\n      return key;\n    }\n  }\n\n  setOptions(options, pos=true) {\n    const defaults = {\n      offset: '0 0',\n      targetOffset: '0 0',\n      targetAttachment: 'auto auto',\n      classPrefix: 'tether'\n    };\n\n    this.options = extend(defaults, options);\n\n    let {element, target, targetModifier} = this.options;\n    this.element = element;\n    this.target = target;\n    this.targetModifier = targetModifier;\n\n    if (this.target === 'viewport') {\n      this.target = document.body;\n      this.targetModifier = 'visible';\n    } else if (this.target === 'scroll-handle') {\n      this.target = document.body;\n      this.targetModifier = 'scroll-handle';\n    }\n\n    ['element', 'target'].forEach(key => {\n      if (typeof this[key] === 'undefined') {\n        throw new Error('Tether Error: Both element and target must be defined');\n      }\n\n      if (typeof this[key].jquery !== 'undefined') {\n        this[key] = this[key][0];\n      } else if (typeof this[key] === 'string') {\n        this[key] = document.querySelector(this[key]);\n      }\n    });\n\n    addClass(this.element, this.getClass('element'));\n    if (!(this.options.addTargetClasses === false)) {\n      addClass(this.target, this.getClass('target'));\n    }\n\n    if (!this.options.attachment) {\n      throw new Error('Tether Error: You must provide an attachment');\n    }\n\n    this.targetAttachment = parseAttachment(this.options.targetAttachment);\n    this.attachment = parseAttachment(this.options.attachment);\n    this.offset = parseOffset(this.options.offset);\n    this.targetOffset = parseOffset(this.options.targetOffset);\n\n    if (typeof this.scrollParents !== 'undefined') {\n      this.disable();\n    }\n\n    if (this.targetModifier === 'scroll-handle') {\n      this.scrollParents = [this.target];\n    } else {\n      this.scrollParents = getScrollParents(this.target);\n    }\n\n    if(!(this.options.enabled === false)) {\n      this.enable(pos);\n    }\n  }\n\n  getTargetBounds() {\n    if (typeof this.targetModifier !== 'undefined') {\n      if (this.targetModifier === 'visible') {\n        if (this.target === document.body) {\n          return {top: pageYOffset, left: pageXOffset, height: innerHeight, width: innerWidth};\n        } else {\n          const bounds = getBounds(this.target);\n\n          const out = {\n            height: bounds.height,\n            width: bounds.width,\n            top: bounds.top,\n            left: bounds.left\n          };\n\n          out.height = Math.min(out.height, bounds.height - (pageYOffset - bounds.top));\n          out.height = Math.min(out.height, bounds.height - ((bounds.top + bounds.height) - (pageYOffset + innerHeight)));\n          out.height = Math.min(innerHeight, out.height);\n          out.height -= 2;\n\n          out.width = Math.min(out.width, bounds.width - (pageXOffset - bounds.left));\n          out.width = Math.min(out.width, bounds.width - ((bounds.left + bounds.width) - (pageXOffset + innerWidth)));\n          out.width = Math.min(innerWidth, out.width);\n          out.width -= 2;\n\n          if (out.top < pageYOffset) {\n            out.top = pageYOffset;\n          }\n          if (out.left < pageXOffset) {\n            out.left = pageXOffset;\n          }\n\n          return out;\n        }\n      } else if (this.targetModifier === 'scroll-handle') {\n        let bounds;\n        let target = this.target;\n        if (target === document.body) {\n          target = document.documentElement;\n\n          bounds = {\n            left: pageXOffset,\n            top: pageYOffset,\n            height: innerHeight,\n            width: innerWidth\n          };\n        } else {\n          bounds = getBounds(target);\n        }\n\n        const style = getComputedStyle(target);\n\n        const hasBottomScroll = (\n          target.scrollWidth > target.clientWidth ||\n          [style.overflow, style.overflowX].indexOf('scroll') >= 0 ||\n          this.target !== document.body\n        );\n\n        let scrollBottom = 0;\n        if (hasBottomScroll) {\n          scrollBottom = 15;\n        }\n\n        const height = bounds.height - parseFloat(style.borderTopWidth) - parseFloat(style.borderBottomWidth) - scrollBottom;\n\n        const out = {\n          width: 15,\n          height: height * 0.975 * (height / target.scrollHeight),\n          left: bounds.left + bounds.width - parseFloat(style.borderLeftWidth) - 15\n        };\n\n        let fitAdj = 0;\n        if (height < 408 && this.target === document.body) {\n          fitAdj = -0.00011 * Math.pow(height, 2) - 0.00727 * height + 22.58;\n        }\n\n        if (this.target !== document.body) {\n          out.height = Math.max(out.height, 24);\n        }\n\n        const scrollPercentage = this.target.scrollTop / (target.scrollHeight - height);\n        out.top = scrollPercentage * (height - out.height - fitAdj) + bounds.top + parseFloat(style.borderTopWidth);\n\n        if (this.target === document.body) {\n          out.height = Math.max(out.height, 24);\n        }\n\n        return out;\n      }\n    } else {\n      return getBounds(this.target);\n    }\n  }\n\n  clearCache() {\n    this._cache = {};\n  }\n\n  cache(k, getter) {\n    // More than one module will often need the same DOM info, so\n    // we keep a cache which is cleared on each position call\n    if (typeof this._cache === 'undefined') {\n      this._cache = {};\n    }\n\n    if (typeof this._cache[k] === 'undefined') {\n      this._cache[k] = getter.call(this);\n    }\n\n    return this._cache[k];\n  }\n\n  enable(pos=true) {\n    if (!(this.options.addTargetClasses === false)) {\n      addClass(this.target, this.getClass('enabled'));\n    }\n    addClass(this.element, this.getClass('enabled'));\n    this.enabled = true;\n\n    this.scrollParents.forEach((parent) => {\n      if (parent !== this.target.ownerDocument) {\n        parent.addEventListener('scroll', this.position);\n      }\n    })\n\n    if (pos) {\n      this.position();\n    }\n  }\n\n  disable() {\n    removeClass(this.target, this.getClass('enabled'));\n    removeClass(this.element, this.getClass('enabled'));\n    this.enabled = false;\n\n    if (typeof this.scrollParents !== 'undefined') {\n      this.scrollParents.forEach((parent) => {\n        parent.removeEventListener('scroll', this.position);\n      })\n    }\n  }\n\n  destroy() {\n    this.disable();\n\n    tethers.forEach((tether, i) => {\n      if (tether === this) {\n        tethers.splice(i, 1);\n      }\n    });\n\n    // Remove any elements we were using for convenience from the DOM\n    if (tethers.length === 0) {\n      removeUtilElements();\n    }\n  }\n\n  updateAttachClasses(elementAttach, targetAttach) {\n    elementAttach = elementAttach || this.attachment;\n    targetAttach = targetAttach || this.targetAttachment;\n    const sides = ['left', 'top', 'bottom', 'right', 'middle', 'center'];\n\n    if (typeof this._addAttachClasses !== 'undefined' && this._addAttachClasses.length) {\n      // updateAttachClasses can be called more than once in a position call, so\n      // we need to clean up after ourselves such that when the last defer gets\n      // ran it doesn't add any extra classes from previous calls.\n      this._addAttachClasses.splice(0, this._addAttachClasses.length);\n    }\n\n    if (typeof this._addAttachClasses === 'undefined') {\n      this._addAttachClasses = [];\n    }\n    const add = this._addAttachClasses;\n\n    if (elementAttach.top) {\n      add.push(`${ this.getClass('element-attached') }-${ elementAttach.top }`);\n    }\n    if (elementAttach.left) {\n      add.push(`${ this.getClass('element-attached') }-${ elementAttach.left }`);\n    }\n    if (targetAttach.top) {\n      add.push(`${ this.getClass('target-attached') }-${ targetAttach.top }`);\n    }\n    if (targetAttach.left) {\n      add.push(`${ this.getClass('target-attached') }-${ targetAttach.left }`);\n    }\n\n    const all = [];\n    sides.forEach(side => {\n      all.push(`${ this.getClass('element-attached') }-${ side }`);\n      all.push(`${ this.getClass('target-attached') }-${ side }`);\n    });\n\n    defer(() => {\n      if (!(typeof this._addAttachClasses !== 'undefined')) {\n        return;\n      }\n\n      updateClasses(this.element, this._addAttachClasses, all);\n      if (!(this.options.addTargetClasses === false)) {\n        updateClasses(this.target, this._addAttachClasses, all);\n      }\n\n      delete this._addAttachClasses;\n    });\n  }\n\n  position(flushChanges=true) {\n    // flushChanges commits the changes immediately, leave true unless you are positioning multiple\n    // tethers (in which case call Tether.Utils.flush yourself when you're done)\n\n    if (!this.enabled) {\n      return;\n    }\n\n    this.clearCache();\n\n    // Turn 'auto' attachments into the appropriate corner or edge\n    const targetAttachment = autoToFixedAttachment(this.targetAttachment, this.attachment);\n\n    this.updateAttachClasses(this.attachment, targetAttachment);\n\n    const elementPos = this.cache('element-bounds', () => {\n      return getBounds(this.element);\n    });\n\n    let {width, height} = elementPos;\n\n    if (width === 0 && height === 0 && typeof this.lastSize !== 'undefined') {\n      // We cache the height and width to make it possible to position elements that are\n      // getting hidden.\n      ({width, height} = this.lastSize);\n    } else {\n      this.lastSize = {width, height};\n    }\n\n    const targetPos = this.cache('target-bounds', () => {\n      return this.getTargetBounds();\n    });\n    const targetSize = targetPos;\n\n    // Get an actual px offset from the attachment\n    let offset = offsetToPx(attachmentToOffset(this.attachment), {width, height});\n    let targetOffset = offsetToPx(attachmentToOffset(targetAttachment), targetSize);\n\n    const manualOffset = offsetToPx(this.offset, {width, height});\n    const manualTargetOffset = offsetToPx(this.targetOffset, targetSize);\n\n    // Add the manually provided offset\n    offset = addOffset(offset, manualOffset);\n    targetOffset = addOffset(targetOffset, manualTargetOffset);\n\n    // It's now our goal to make (element position + offset) == (target position + target offset)\n    let left = targetPos.left + targetOffset.left - offset.left;\n    let top = targetPos.top + targetOffset.top - offset.top;\n\n    for (let i = 0; i < TetherBase.modules.length; ++i) {\n      const module = TetherBase.modules[i];\n      const ret = module.position.call(this, {\n        left,\n        top,\n        targetAttachment,\n        targetPos,\n        elementPos,\n        offset,\n        targetOffset,\n        manualOffset,\n        manualTargetOffset,\n        scrollbarSize,\n        attachment: this.attachment\n      });\n\n      if (ret === false) {\n        return false;\n      } else if (typeof ret === 'undefined' || typeof ret !== 'object') {\n        continue;\n      } else {\n        ({top, left} = ret);\n      }\n    }\n\n    // We describe the position three different ways to give the optimizer\n    // a chance to decide the best possible way to position the element\n    // with the fewest repaints.\n    const next = {\n      // It's position relative to the page (absolute positioning when\n      // the element is a child of the body)\n      page: {\n        top: top,\n        left: left\n      },\n\n      // It's position relative to the viewport (fixed positioning)\n      viewport: {\n        top: top - pageYOffset,\n        bottom: pageYOffset - top - height + innerHeight,\n        left: left - pageXOffset,\n        right: pageXOffset - left - width + innerWidth\n      }\n    };\n\n    var doc = this.target.ownerDocument;\n    var win = doc.defaultView;\n\n    let scrollbarSize;\n    if (win.innerHeight > doc.documentElement.clientHeight) {\n      scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n      next.viewport.bottom -= scrollbarSize.height;\n    }\n\n    if (win.innerWidth > doc.documentElement.clientWidth) {\n      scrollbarSize = this.cache('scrollbar-size', getScrollBarSize);\n      next.viewport.right -= scrollbarSize.width;\n    }\n\n    if (['', 'static'].indexOf(doc.body.style.position) === -1 ||\n        ['', 'static'].indexOf(doc.body.parentElement.style.position) === -1) {\n      // Absolute positioning in the body will be relative to the page, not the 'initial containing block'\n      next.page.bottom = doc.body.scrollHeight - top - height;\n      next.page.right = doc.body.scrollWidth - left - width;\n    }\n\n    if (typeof this.options.optimizations !== 'undefined' &&\n        this.options.optimizations.moveElement !== false &&\n        !(typeof this.targetModifier !== 'undefined')) {\n      const offsetParent = this.cache('target-offsetparent', () => getOffsetParent(this.target));\n      const offsetPosition = this.cache('target-offsetparent-bounds', () => getBounds(offsetParent));\n      const offsetParentStyle = getComputedStyle(offsetParent);\n      const offsetParentSize = offsetPosition;\n\n      const offsetBorder = {};\n      ['Top', 'Left', 'Bottom', 'Right'].forEach(side => {\n        offsetBorder[side.toLowerCase()] = parseFloat(offsetParentStyle[`border${ side }Width`]);\n      });\n\n      offsetPosition.right = doc.body.scrollWidth - offsetPosition.left - offsetParentSize.width + offsetBorder.right;\n      offsetPosition.bottom = doc.body.scrollHeight - offsetPosition.top - offsetParentSize.height + offsetBorder.bottom;\n\n      if (next.page.top >= (offsetPosition.top + offsetBorder.top) && next.page.bottom >= offsetPosition.bottom) {\n        if (next.page.left >= (offsetPosition.left + offsetBorder.left) && next.page.right >= offsetPosition.right) {\n          // We're within the visible part of the target's scroll parent\n          const scrollTop = offsetParent.scrollTop;\n          const scrollLeft = offsetParent.scrollLeft;\n\n          // It's position relative to the target's offset parent (absolute positioning when\n          // the element is moved to be a child of the target's offset parent).\n          next.offset = {\n            top: next.page.top - offsetPosition.top + scrollTop - offsetBorder.top,\n            left: next.page.left - offsetPosition.left + scrollLeft - offsetBorder.left\n          };\n        }\n      }\n    }\n\n\n    // We could also travel up the DOM and try each containing context, rather than only\n    // looking at the body, but we're gonna get diminishing returns.\n\n    this.move(next);\n\n    this.history.unshift(next);\n\n    if (this.history.length > 3) {\n      this.history.pop();\n    }\n\n    if (flushChanges) {\n      flush();\n    }\n\n    return true;\n  }\n\n  // THE ISSUE\n  move(pos) {\n    if (!(typeof this.element.parentNode !== 'undefined')) {\n      return;\n    }\n\n    const same = {};\n\n    for (let type in pos) {\n      same[type] = {};\n\n      for (let key in pos[type]) {\n        let found = false;\n\n        for (let i = 0; i < this.history.length; ++i) {\n          const point = this.history[i];\n          if (typeof point[type] !== 'undefined' &&\n              !within(point[type][key], pos[type][key])) {\n            found = true;\n            break;\n          }\n\n        }\n\n        if (!found) {\n          same[type][key] = true;\n        }\n      }\n    }\n\n    let css = {top: '', left: '', right: '', bottom: ''};\n\n    const transcribe = (_same, _pos) => {\n      const hasOptimizations = typeof this.options.optimizations !== 'undefined';\n      const gpu = hasOptimizations ? this.options.optimizations.gpu : null;\n      if (gpu !== false) {\n        let yPos, xPos;\n        if (_same.top) {\n          css.top = 0;\n          yPos = _pos.top;\n        } else {\n          css.bottom = 0;\n          yPos = -_pos.bottom;\n        }\n\n        if (_same.left) {\n          css.left = 0;\n          xPos = _pos.left;\n        } else {\n          css.right = 0;\n          xPos = -_pos.right;\n        }\n\n        if (typeof window.devicePixelRatio === 'number' && devicePixelRatio % 1 === 0) {\n          xPos = Math.round(xPos * devicePixelRatio) / devicePixelRatio;\n          yPos = Math.round(yPos * devicePixelRatio) / devicePixelRatio;\n        }\n\n        css[transformKey] = `translateX(${ xPos }px) translateY(${ yPos }px)`;\n\n        if (transformKey !== 'msTransform') {\n          // The Z transform will keep this in the GPU (faster, and prevents artifacts),\n          // but IE9 doesn't support 3d transforms and will choke.\n          css[transformKey] += \" translateZ(0)\";\n        }\n\n      } else {\n        if (_same.top) {\n          css.top = `${ _pos.top }px`;\n        } else {\n          css.bottom = `${ _pos.bottom }px`;\n        }\n\n        if (_same.left) {\n          css.left = `${ _pos.left }px`;\n        } else {\n          css.right = `${ _pos.right }px`;\n        }\n      }\n    };\n\n    let moved = false;\n    if ((same.page.top || same.page.bottom) && (same.page.left || same.page.right)) {\n      css.position = 'absolute';\n      transcribe(same.page, pos.page);\n\n    } else if ((same.viewport.top || same.viewport.bottom) && (same.viewport.left || same.viewport.right)) {\n      css.position = 'fixed';\n      transcribe(same.viewport, pos.viewport);\n\n    } else if (typeof same.offset !== 'undefined' && same.offset.top && same.offset.left) {\n      css.position = 'absolute';\n      const offsetParent = this.cache('target-offsetparent', () => getOffsetParent(this.target));\n\n      if (getOffsetParent(this.element) !== offsetParent) {\n        defer(() => {\n          this.element.parentNode.removeChild(this.element);\n          offsetParent.appendChild(this.element);\n        });\n      }\n\n      transcribe(same.offset, pos.offset);\n      moved = true;\n\n    } else {\n      css.position = 'absolute';\n      transcribe({top: true, left: true}, pos.page);\n    }\n\n    if (!moved) {\n      if (this.options.bodyElement) {\n        if (this.element.parentNode !== this.options.bodyElement) {\n          this.options.bodyElement.appendChild(this.element);\n        }\n      } else {\n        let offsetParentIsBody = true;\n        function isFullscreenElement(e) {\n          let d = e.ownerDocument;\n          let fe = d.fullscreenElement || d.webkitFullscreenElement || d.mozFullScreenElement || d.msFullscreenElement;\n          return fe === e;\n        }\n        let currentNode = this.element.parentNode;\n        while (currentNode && currentNode.nodeType === 1 && currentNode.tagName !== 'BODY' && !isFullscreenElement(currentNode)) {\n          if (getComputedStyle(currentNode).position !== 'static') {\n            offsetParentIsBody = false;\n            break;\n          }\n\n          currentNode = currentNode.parentNode;\n        }\n\n        if (!offsetParentIsBody) {\n          this.element.parentNode.removeChild(this.element);\n          this.element.ownerDocument.body.appendChild(this.element);\n        }\n      }\n    }\n\n    // Any css change will trigger a repaint, so let's avoid one if nothing changed\n    const writeCSS = {};\n    let write = false;\n    for (let key in css) {\n      let val = css[key];\n      let elVal = this.element.style[key];\n\n      if (elVal !== val) {\n        write = true;\n        writeCSS[key] = val;\n      }\n    }\n\n    if (write) {\n      defer(() => {\n        extend(this.element.style, writeCSS);\n        this.trigger('repositioned');\n      });\n    }\n  }\n}\n\nTetherClass.modules = [];\n\nTetherBase.position = position;\n\nlet Tether = extend(TetherClass, TetherBase);\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}